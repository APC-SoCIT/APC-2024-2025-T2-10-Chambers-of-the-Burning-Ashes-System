{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Columbary Record</title>
    <link rel="stylesheet" href="{% static 'css/addnewrecord.css' %}">
</head>
<body>

    <div class="container">
        <h2>Add New Columbary Record</h2>

        <!-- Display Form Errors -->
        {% if customer_form.errors or payment_form.errors or columbary_form.errors or holder_form.errors or beneficiary_form.errors %}
        <div class="alert alert-danger">
            <strong>There were errors in your submission. Please check the fields and try again.</strong>
        </div>
        {% endif %}

        <form method="post">
            {% csrf_token %}
            
            <h3>Customer Information</h3>
            <div class="form-group">
                {{ customer_form.as_p }}
            </div>

            <h3>Mode of Payment:</h3>
            {{ payment_form.mode_of_payment }}
            
            <!-- Full Payment Fields -->
            <div id="full_payment_fields" style="display: none;">
                <h4>Full Payment Details</h4>
                
                <label for="id_Full_payment_receipt_1">Receipt #1:</label>
                {{ payment_form.Full_payment_receipt_1 }}
            
                <label for="id_Full_payment_amount_1">Amount:</label>
                {{ payment_form.Full_payment_amount_1 }}
            </div>
            
            <!-- 6-Month Installment Fields -->
            <div id="installment_payment_fields" style="display: none;">
                <h4>6-Month Installment Details</h4>
            
                <div class="installment-group">
                    <label for="id_six_month_receipt_1">Receipt #1:</label>
                    {{ payment_form.six_month_receipt_1 }}
                    <label for="id_six_month_amount_1">Amount:</label>
                    {{ payment_form.six_month_amount_1 }}
                </div>
                <div class="installment-group">
                    <label for="id_six_month_receipt_2">Receipt #2:</label>
                    {{ payment_form.six_month_receipt_2 }}
                    <label for="id_six_month_amount_2">Amount:</label>
                    {{ payment_form.six_month_amount_2 }}
                </div>
                <div class="installment-group">
                    <label for="id_six_month_receipt_3">Receipt #3:</label>
                    {{ payment_form.six_month_receipt_3 }}
                    <label for="id_six_month_amount_3">Amount:</label>
                    {{ payment_form.six_month_amount_3 }}
                </div>
                <div class="installment-group">
                    <label for="id_six_month_receipt_4">Receipt #4:</label>
                    {{ payment_form.six_month_receipt_4 }}
                    <label for="id_six_month_amount_4">Amount:</label>
                    {{ payment_form.six_month_amount_4 }}
                </div>
                <div class="installment-group">
                    <label for="id_six_month_receipt_5">Receipt #5:</label>
                    {{ payment_form.six_month_receipt_5 }}
                    <label for="id_six_month_amount_5">Amount:</label>
                    {{ payment_form.six_month_amount_5 }}
                </div>
                <div class="installment-group">
                    <label for="id_six_month_receipt_6">Receipt #6:</label>
                    {{ payment_form.six_month_receipt_6 }}
                    <label for="id_six_month_amount_6">Amount:</label>
                    {{ payment_form.six_month_amount_6 }}
                </div>
            </div>

            <h3>Columbary Record</h3>
            <div class="form-group">
                {{ columbary_form.as_p }}
            </div>

            <h3>Holder of Privilege</h3>
            <div class="form-group">
                {{ holder_form.as_p }}
            </div>

            <h3>Beneficiaries</h3>
            <div class="form-group">
                {{ beneficiary_form.as_p }}
            </div>

            <button type="submit" class="btn btn-primary">Submit Record</button>

            <!-- Go Back Button -->
            <a href="{% url 'columbaryrecords' %}" class="btn btn-secondary" style="margin-left: 10px;">Go Back</a>
        </form>
    </div>

    <!-- Link to JavaScript File -->
    <script src="{% static 'js/addnewrecord.js' %}"></script>
</body>
</html>
